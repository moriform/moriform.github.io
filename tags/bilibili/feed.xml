<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Bilibili on 森月台</title>
        <link>https://moriform.github.io/tags/bilibili/</link>
        <description>Recent content in Bilibili on 森月台</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>暄穗</copyright>
        <lastBuildDate>Wed, 16 Apr 2025 19:40:38 +0000</lastBuildDate><atom:link href="https://moriform.github.io/tags/bilibili/feed.xml" rel="self" type="application/rss+xml" /><item>
        <title>Rsshub在bilibili和weibo的一些基础</title>
        <link>https://moriform.github.io/2025/04/16/rsshub%E5%9C%A8bilibili%E5%92%8Cweibo%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80/</link>
        <pubDate>Wed, 16 Apr 2025 19:40:38 +0000</pubDate>
        
        <guid>https://moriform.github.io/2025/04/16/rsshub%E5%9C%A8bilibili%E5%92%8Cweibo%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80/</guid>
        <description>&lt;h2 id=&#34;这是什么&#34;&gt;这是什么
&lt;/h2&gt;&lt;p&gt;暄穗在实际使用rsshub订阅国内平台的时候遇到了一些网站的反爬虫机制，导致一些网站在直接使用RSShub的时候无法拾取信息。在这个时候需要我们对Rsshub的环境进行一定的配置，比如把自己的账号信息或是浏览器的信息配置在rsshub环境中，程序拾取信息的时候自带正确的head就可以通过反爬取机制的限制。&lt;/p&gt;
&lt;h2 id=&#34;bilibili的cookie配置&#34;&gt;bilibili的cookie配置
&lt;/h2&gt;&lt;p&gt;如在bilibili平台中如果直接裸爬取大概率是会直接报错的，需要将用户的浏览器cookie添加在config文件里面，具体操作如&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/weixin_38125348/article/details/141217956&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;自建 RSSHub，打造你的专属信息聚合神器！-CSDN博客&lt;/a&gt;中所示。&lt;/p&gt;
&lt;p&gt;简单说，在浏览器登陆了帐号之后，打开网站 &lt;a class=&#34;link&#34; href=&#34;https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new?uid=0&amp;amp;type=8&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new?uid=0&amp;amp;type=8&lt;/a&gt; 通过浏览器的开发工具网络模块找到一个cookie值，完全复制下来。&lt;/p&gt;
&lt;p&gt;然后在应用的docker-compose.yml文件中进行文件配置，在rsshub的environment里面加上BILIBILI_COOKIE_你的UID : &amp;ldquo;你的Cookie值&amp;rdquo;，注意cookie值需要用引号括起来，因为我的cookie中有单引号所以我用双引号括起来。差不多长这样。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BILIBILI_COOKIE_93428 : &amp;#34;buvid3=B73F8077-A97A-28A2-DF18-DE6B6DE33C7882766infoc; b_nut=1741006682; _uuid=35BEAF7F-FD9E-4624-10CD1-F37D7A465EB383184infoc; enable_web_push=DISABLE; buvid4=1B604924-B54C-8E43-7BF7-89B5E1807EFF83660-025030312-E8iAdFrDoyrfEKkydeDeQw%3D%3D; DedeUserID=3546601188493428; DedeUserIDbili_jct=dbbffc52a0ee7baf9ba16c40b7a06310; sid=8m9rq12i; CURRENT_FNVAL=4048; b_lsid=D46D3B15_1961E5C9EF1; timeMachine=0; bp_t_offset_3546601188493428=1054106693811568640; bsource=search_google&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在完成cookie配置之后重启rsshub就可以爬取rsshub的信息了。&lt;/p&gt;
&lt;h2 id=&#34;weibo的饼干以及防盗链媒体方案&#34;&gt;weibo的饼干以及防盗链媒体方案
&lt;/h2&gt;&lt;p&gt;在使用rsshub订阅微博的时候，有时会遇到“幽灵账号”，就是可以在电脑浏览器上面看到用户的消息，但是在手机端发现他的主页是空白的，而且使用rsshub也不能订阅，这个时候就需要使用weibo的cookie配置，参照rsshub的文档添加环境变量，和bilibili的cookie添加方式大差不差。我没有weibo账号就不演示了。&lt;/p&gt;
&lt;p&gt;另外weibo的防盗链机制使得图片必须通过weibo平台才能够获取，如果直接用rss阅读器没有办法显示图片。需要添加参数通过替换媒体文件的url来使得在rss阅读器中可以显示。&lt;/p&gt;
&lt;p&gt;方法是在rsshub的docker-compose.yml的rsshub的environment中添加参数如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HOTLINK_TEMPLATE: &amp;#39;https://image.baidu.com/search/down?url=$${href_ue}&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HOTLINK_INCLUDE_PATHS: /weibo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;后话&#34;&gt;后话
&lt;/h2&gt;&lt;p&gt;由于cookie需要不定期的更新这比较麻烦，所以我尽量避免相关的配置。比如bilibili的话我一般只用电脑看视频，所以它和我的youtube一起放在了电脑本地浏览器的feedbro里面，同时我在电脑端配置了一个rsshub，所以feedbro通过本地rsshub可以直接在浏览器上面对bilibili进行抓取，这样就不用配置cookie了。&lt;/p&gt;
&lt;p&gt;但是偶尔有一次我在检查rss报错的时候发现还是有人使用我的月台信息分发服务，也有学生群体使用我的rsshub来订阅B站上的授课老师来获取知识，所以我现在还是换回了在线的rsshub来订阅bilibili，这样如果cookie需要更新了我及时可以发现。也祝各位同学能够学业有成，取得理想的成绩。&lt;/p&gt;
&lt;p&gt;如果真的有其他平台的cookie配置需求（比如前文说到的微博幽灵账号订阅），可以在这篇文章下方进行评论，不是太复杂的我都可以进行配置。&lt;/p&gt;
&lt;p&gt;最后，我的服务器是阿里云的大陆ecs，想从这里订阅AV和境外新闻是几乎不可能的事情。&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
